<!-- advanced-content.liquid -->
<style>
  .customstyle{{ section.id }}{
    position: relative;
    background-position: {{ section.settings.e_position }} !important;
    background-repeat: {{ section.settings.e_repeat }} !important;
    background-size: {{ section.settings.e_size }} !important;

  }
  .customstyle{{ section.id }}::before {
    position: absolute;
    top: 0;
    right: 0;
    left: 0;
    content: "";
    height: {{ section.settings.rangebg }}%;
    background-color: {{ section.settings.bgbefore }};
  }
  .customstyle{{ section.id }} .row{
    align-items: stretch;
  }
  .customstyle{{ section.id }} .col-lg-4{
    padding-left: 6px;
    padding-right: 6px;
  }
  .customstyle{{ section.id }} .grid__item-inner{
    height: auto;
    display: block;
  }
  .customstyle{{ section.id }} .adv-productlist{
    background: #ffffff;
    border: none !important;
    border-radius: 8px;
    box-shadow: none;
    padding: 16px 16px !important;
    align-items: center;
    margin-bottom: 12px;
    min-height: 100px;
    height: auto;
    display: flex;
    position: relative;
    padding-right: 54px !important;
  }
  .customstyle{{ section.id }} .adv-productlist.border-bottom{
    border-bottom: none !important;
  }
  .customstyle{{ section.id }} .adv-productlist .adv-img{
    width: 100%;
    height: auto;
    max-height: 105px;
    object-fit: contain;
    background: transparent;
    border-radius: 10px;
    padding: 0;
    margin: 0;
    align-self: center;
  }
  .customstyle{{ section.id }} .adv-productlist > a{
    display: flex;
    align-items: center;
    width: 80px;
    height: 100%;
    justify-content: center;
    flex-shrink: 0;
  }
  .customstyle{{ section.id }} .adv-productlist .media-body{
    display: flex;
    flex-direction: column;
    justify-content: space-between;
    flex: 1;
    min-height: 0;
    align-self: stretch;
  }
  .customstyle{{ section.id }} .adv-productlist .product-card__type{
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 0.04em;
    text-transform: uppercase;
    color: #8d96a3;
    margin-bottom: 6px;
    line-height: 1.2;
  }
  .customstyle{{ section.id }} .adv-productlist .product-card__name{
    font-size: 15px;
    font-weight: 600;
    color: #0f1b2d;
    line-height: 1.35;
    margin-bottom: 0;
    padding-right: 4px;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
    min-height: calc(1.35em * 2);
  }
  .customstyle{{ section.id }} .adv-productlist .product-card__price{
    font-size: 15px;
    font-weight: 700;
    color: #0f1b2d;
    margin: 0;
    margin-top: auto;
    line-height: 1.3;
  }
  .customstyle{{ section.id }} .adv-productlist .product-card__price.product-card__pricesale{
    color: #d64545;
  }
  .customstyle{{ section.id }} .adv-productlist .product-card__regular-price{
    color: #9aa3ae;
  }
  .customstyle{{ section.id }} .adv-productlist .product-card__arrow{
    position: absolute;
    right: 16px;
    top: 50%;
    transform: translateY(-50%);
    width: 34px;
    height: 34px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    color: #0f1b2d;
    opacity: 0.9;
    border: none;
    border-radius: 50%;
    background: #f1f3f5;
    text-decoration: none;
    cursor: pointer;
  }
  .customstyle{{ section.id }} .adv-productlist .product-card__arrow svg{
    width: 18px;
    height: 18px;
    fill: none;
    stroke: currentColor;
    stroke-width: 1.5;
  }
  .customstyle{{ section.id }} .col-lg-4{
    padding-left: 6px;
    padding-right: 6px;
  }
  @media (max-width: 767px){
    .customstyle{{ section.id }} .adv-productlist{
      padding: 16px 16px !important;
      padding-right: 54px !important;
    }
    .customstyle{{ section.id }} .row > [class*='col-']{
      margin-bottom: 0 !important;
    }
    .customstyle{{ section.id }} .grid__item-inner > div[data-aos]{
      margin-bottom: 0 !important;
    }
  }
</style>
<section class="customstyle{{ section.id }} lazyload"
    data-bgset="{% render 'bgset', image: section.settings.image_bg %}"
    data-sizes="auto"
    data-parent-fit="cover" 
   data-section-id="{{ section.id }}" >
  {%- render 'style-section' -%}
  <div class="{{ section.settings.setwidth }}">
    <div class="section-block">
      {%- render 'section-heading' -%}
      <div class="row {% unless section.settings.padding %} m-0 {% endunless %} {% if section.settings.col_center %} justify-content-center {% endif %}">
        {%- for block in section.blocks -%}
          {%- liquid
            case block.settings.width 
            when 'auto' 
              assign block_width = 'col-lg col-12' 
            when '20%' 
              assign block_width = 'col-1-5 col-md-6 col-12' 
            when '25%' 
              assign block_width = 'col-lg-3 col-md-6 ' 
            when '33%' 
              assign block_width = 'col-lg-4 col-md-6 ' 
            when '41%' 
              assign block_width = 'col-lg-5 col-md-12 ' 
            when '50%' 
              assign block_width = 'col-lg-6 ' 
            when '58%' 
              assign block_width = 'col-lg-7 col-md-12 ' 
            when '66%' 
              assign block_width = 'col-lg-8 col-md-12 ' 
            when '75%' 
              assign block_width = 'col-lg-9 col-md-12 ' 
            when '100%' 
              assign block_width = 'col-12 ' 
          endcase 
          -%}
          <div class="{{ block_width }} mb-4 mb-sm-0 align-self-{{ block.settings.align }} {% unless section.settings.padding %} p-0{% endunless %}" {{ block.shopify_attributes }}>
            <div class="grid__item-inner grid__item-inner--{{ block.type }}">
              {%- case block.type -%}
                {%- when 'productlist' -%}
                  <div class="{% if forloop.last == true %} mb-0 {% else %} mb-4 mb-lg-0 {% endif %}" data-aos="{{ section.settings.animation }}" data-aos-delay="{{ forloop.index | times: 100 }}">
                    {%- assign collection = collections[block.settings.mini_collection] -%}
                    {%- if collection != blank -%}
                      {%- if block.settings.title != blank -%}
                        <h4 class="mb-2">
                          {{ block.settings.title }}
                        </h4>
                      {%- endif -%}
                      {%- for product in collection.products limit: block.settings.limit_product -%}
                        <div class="media adv-productlist {% if forloop.last %} pb-0 pt-4 {% else %} py-4 {% endif %} {% unless forloop.last %} border-bottom {% endunless %}" style="border-bottom-color: {{ block.settings.p_border }}!important;">
                          <a href="{{ product.url | within: collection }}"><img class="lazyload adv-img" 
                            data-src="{{ product.featured_image | image_url: width: 150 }}" 
                            src="{{ product.featured_image | image_url: width: 1, height: 1 }}"
                            loading="lazy"
                            width="{{ product.featured_image.width }}"
                            height="{{ product.featured_image.height }}"></a>
                          <div class="media-body">
                            <div>
                              {%- if product.type != blank -%}
                                <div class="product-card__type">{{ product.type | upcase }}</div>
                              {%- endif -%}
                              <a href="{{ product.url | within: collection }}" title="{{ product.title }}" class="product-card__name d-block">{{ product.title }}
                              </a>
                            </div>
                            {%- if product.available -%}
                              <div class="product-card__price {% if product.compare_at_price > product.price %} product-card__pricesale {% endif %}">
                                {%- if product.compare_at_price > product.price -%}
                                  {%- if product.price_varies -%}
                                    {%- assign sale_price = product.price | money -%}
                                    {{ 'products.product.on_sale_from_html' | t: price: sale_price }}
                                  {%- else -%}
                                    <span class="visually-hidden">{{ 'products.product.regular_price' | t }}
                                    </span>
                                   
                                    <span class="visually-hidden">{{ 'products.product.sale_price' | t }}
                                    </span>
                                    {{ product.price | money }}
                                    <s class="product-card__regular-price">{{ product.compare_at_price | money }}
                                    </s>
                                  {%- endif -%}
                                {%- else -%}
                                  {%- if product.price_varies -%}
                                    {%- assign price = product.price | money -%}
                                    {{ 'products.product.from_text_html' | t: price: price }}
                                  {%- else -%}
                                    <span class="visually-hidden">{{ 'products.product.regular_price' | t }}
                                    </span>
                                    {{ product.price | money }}
                                  {%- endif -%}
                                {%- endif -%}
                              </div>
                            {%- else -%}
                              <div class="product-card__availability small">
                                {{ 'products.product.sold_out' | t }}
                              </div>
                            {%- endif -%}
                          </div>
                          <span class="product-card__arrow js-grid-cart {% unless product.available %} disabled{% endunless %}" title="{{ 'products.product.add_to_cart' | t }}" data-id="{{ product.selected_or_first_available_variant.id }}">
                            <svg class="svg-cart" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                              <path d="M17.5727 7.45459H6.42926C5.47205 7.45459 4.67878 8.19674 4.61511 9.15183L3.94845 19.1519C3.87848 20.2012 4.71085 21.091 5.76259 21.091H18.2393C19.2912 21.091 20.1235 20.2012 20.0535 19.1519L19.3869 9.15183C19.3232 8.19674 18.5299 7.45459 17.5727 7.45459Z" stroke="currentColor" stroke-width="1.5"></path>
                              <path d="M15.638 10.1818V6.54542C15.638 4.53711 14.0099 2.90906 12.0016 2.90906C9.99329 2.90906 8.36523 4.53711 8.36523 6.54542V10.1818" stroke="currentColor" stroke-width="1.5" stroke-linecap="square"></path>
                            </svg>
                            <div class="product-card__loading spinner-border" role="status"></div>
                          </span>
                        </div>
                      {%- endfor -%}
                  
                  {%- else -%}
                    <h4 class="mb-2">
                      Collection title
                    </h4>
                    {%- assign limit =  block.settings.limit_product -%}
                    {%- for i in (1..limit) -%}
                      <div class="media py-4 {% unless forloop.last %} border-bottom {% endunless %}">
                          <div class="mr-3 border">
                            {%- capture current -%}
                              {%- cycle 1, 2, 3, 4, 5, 6 -%}
                            {%- endcapture -%}
                              <div style="width: 74px;">
                                {{ 'product-' | append: current | placeholder_svg_tag: 'placeholder-svg' }}
                              </div>
                          </div>
                          <div class="media-body">
                              <div class="product-card__name">{{ 'homepage.onboarding.product_title' | t }}</div>
                              <div class="product-card__price">
                                {%- cycle '$19.99', '$28.37', '$33.22', '$41.56', '$55.21', '$62.98' -%}
                              </div>
                          </div>
                      </div>
                    {%- endfor -%}
                  {%- endif -%}
                </div>
              {%- endcase -%}
            </div>
          </div>
        {%- endfor -%}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Product list Small",
  "max_blocks": 3,
  "settings": [
    {
      "type": "select",
      "id": "animation",
      "options": [
        {
          "value": "",
          "label": "None"
        },
        {
          "value": "fade",
          "label": "Fade"
        },
        {
          "value": "fade-up",
          "label": "Fade Up"
        },
        {
          "value": "fade-down",
          "label": "Fade Down"
        },
        {
          "value": "fade-left",
          "label": "Fade Left"
        },
        {
          "value": "fade-right",
          "label": "Fade Right"
        },
        {
          "value": "fade-up-right",
          "label": "Fade Up Right"
        },
        {
          "value": "fade-up-left",
          "label": "Fade Up Left"
        },
        {
          "value": "fade-down-right",
          "label": "Fade Down Right"
        },
        {
          "value": "fade-down-left",
          "label": "Fade Down Left"
        },
        {
          "value": "flip-up",
          "label": "Flip Up"
        },
        {
          "value": "flip-down",
          "label": "Flip Down"
        },
        {
          "value": "flip-left",
          "label": "Flip Left"
        },
        {
          "value": "flip-right",
          "label": "Flip Right"
        },
        {
          "value": "slide-up",
          "label": "Slide Up"
        },
        {
          "value": "slide-down",
          "label": "Slide Down"
        },
        {
          "value": "slide-left",
          "label": "Slide Left"
        },
        {
          "value": "slide-right",
          "label": "Slide Right"
        },
        {
          "value": "zoom-in",
          "label": "Zoom In"
        },
        {
          "value": "zoom-in-up",
          "label": "Zoom In Up"
        },
        {
          "value": "zoom-in-down",
          "label": "Zoom In Down"
        },
        {
          "value": "zoom-in-left",
          "label": "Zoom In Left"
        },
        {
          "value": "zoom-in-right",
          "label": "Zoom In Right"
        },
        {
          "value": "zoom-out",
          "label": "Zoom Out"
        },
        {
          "value": "zoom-out-up",
          "label": "Zoom Out Up"
        },
        {
          "value": "zoom-out-down",
          "label": "Zoom Out Down"
        },
        {
          "value": "zoom-out-left",
          "label": "Zoom Out Feft"
        },
        {
          "value": "zoom-out-right",
          "label": "Zoom Out Right"
        }
      ],
      "label": "Select Animation"
    },
    {
      "type": "select",
      "id": "setwidth",
      "label": "Full Width",
      "default": "container",
      "options": [
        {
          "value": "container",
          "label": "Box"
        },
        {
          "value": "container-fluid",
          "label": "Container Fluid"
        },
        {
          "value": "full",
          "label": "Full"
        }
      ]
    },
    {
      "type": "header",
      "content": "Background"
    },
    {
      "type": "color",
      "id": "bgsection",
      "label": "Background Section",
      "default": "#ffffff"
    },
    {
      "type": "image_picker",
      "id": "image_bg",
      "label": "Background image"
    },
    {
      "type": "select",
      "id": "e_size",
      "label": "Background Size",
      "default": "auto",
      "options": [
        {
          "value": "auto",
          "label": "Auto"
        },
        {
          "value": "cover",
          "label": "Cover"
        },
        {
          "value": "contain",
          "label": "Contain"
        }
      ]
    },
    {
      "type": "select",
      "id": "e_repeat",
      "label": "Background Repeat",
      "default": "no-repeat",
      "options": [
        {
          "value": "no-repeat",
          "label": "No-repeat"
        },
        {
          "value": "repeat",
          "label": "Repeat"
        }
      ]
    },
    {
      "type": "select",
      "id": "e_position",
      "label": "Background Position",
      "options": [
        {
          "value": "top left",
          "label": "Top Left"
        },
        {
          "value": "top center",
          "label": "Top Center"
        },
        {
          "value": "top right",
          "label": "Top Right"
        },
        {
          "value": "left center",
          "label": "Left Center"
        },
        {
          "value": "center center",
          "label": "Center Center"
        },
        {
          "value": "center right",
          "label": "Center Right"
        },
        {
          "value": "bottom left",
          "label": "Bottom Left"
        },
        {
          "value": "bottom center",
          "label": "Bottom Center"
        },
        {
          "value": "bottom right",
          "label": "Bottom Right"
        }
      ],
      "default": "center center"
    },
    {
      "type": "header",
      "content": "Text Heading"
    },
    {
      "type": "text",
      "id": "title_top",
      "label": "Sub Title Top",
      "default": "Sub Title Top"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Title",
      "default": "Custom content"
    },
    {
      "type": "textarea",
      "id": "des",
      "label": "HTML / Description"
    },
    {
      "type": "select",
      "id": "align-heading",
      "label": "Align Heading",
      "default": "center",
      "options": [
        {
          "value": "center",
          "label": "Center"
        },
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ]
    },
    {
      "type": "checkbox",
      "id": "padding",
      "label": "Enable Padding",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "col_center",
      "label": "Enable Center Column",
      "default": false
    },
    {
      "type": "header",
      "content": "Section Padding "
    },
    {
      "type": "text",
      "id": "paddingsection",
      "label": "Padding Section",
      "default": "0px 0px 0px 0px",
      "info": "Padding: Top Right Bottom Left"
    },
    {
      "type": "text",
      "id": "paddingmobile",
      "label": "Padding Section Mobile",
      "default": "40px 0px 40px 0px",
      "info": "Padding: Top Right Bottom Left"
    },
    {
      "type": "header",
      "content": "Section Margin "
    },
    {
      "type": "text",
      "id": "marginsection",
      "label": "Margin Section",
      "default": "0px 0px 0px 0px",
      "info": "Margin: Top Right Bottom Left"
    },
    {
      "type": "text",
      "id": "marginmobile",
      "label": "Margin Mobile",
      "default": "0px 0px 0px 0px",
      "info": "Margin: Top Right Bottom Left"
    }
  ],
  "blocks": [
    {
      "type": "productlist",
      "name": "Product List",
      "settings": [
        {
          "type": "collection",
          "id": "mini_collection",
          "label": "Collection"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title Collection ",
          "default": "Title Collection"
        },
        {
          "type": "text",
          "id": "limit_product",
          "label": "Limit Products",
          "default": "3"
        },
        {
          "type": "color",
          "id": "p_border",
          "label": "Border Color",
          "default": "#e9e9e9"
        },
        {
          "type": "select",
          "id": "width",
          "label": "Container width",
          "default": "33%",
          "options": [
            {
              "value": "auto",
              "label": "Auto"
            },
            {
              "value": "20%",
              "label": "20%"
            },
            {
              "value": "25%",
              "label": "25%"
            },
            {
              "value": "33%",
              "label": "33%"
            },
            {
              "value": "50%",
              "label": "50%"
            },
            {
              "value": "66%",
              "label": "66%"
            },
            {
              "value": "75%",
              "label": "75%"
            },
            {
              "value": "100%",
              "label": "100%"
            }
          ]
        },
        {
          "type": "select",
          "id": "align",
          "label": "Align",
          "default": "auto",
          "options": [
            {
              "value": "auto",
              "label": "Top"
            },
            {
              "value": "center",
              "label": "Mid"
            },
            {
              "value": "end",
              "label": "Bottom"
            }
          ]
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Product list Small",
      "blocks": [
        {
          "type": "productlist"
        },
        {
          "type": "productlist"
        },
        {
          "type": "productlist"
        }
      ]
    }
  ]
}
{% endschema %}
